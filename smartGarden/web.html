<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <title>HOME PAPE</title>
	
	<style>
	
		body{
			background:url("Control_Led/img_1403_iokk.jpg");
			width:300px;
		}
		.wrapper{
			font-size:20px;
			font-code: black;
			background: gray;
			float:left;
			margin:10px;
			padding:10px;
			width: 380px;
			
		}
		
		.content{
			
		}
	</style>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  </head>	
<!---->
  <body>
    <div class="wrapper">
		<form class="form" id="form" action="" method="POST">
			<label for="stateLed">State Led</label><input type="text" id="stateLed" name="stateLed" class="form-control">
			<label for="statePump">State Pump</label><input type="text" id="statePump" name="statePump" class="form-control">
			<label for="timeOnLed">Time On Led</label><input type="time" id="timeOnLed" name="timeOnLed" class="form-control">
			<label for="timeOffLed">Time Off Led</label><input type="time" id="timeOffLed" name="timeOffLed" class="form-control">
			<label for="timeOnPump">Time On Pump</label><input type="time" id="timeOnPump" name="timeOnPump" class="form-control">
			<label for="timeOffPump">Time Off Pump</label><input type="time" id="timeOffPump" name="timeOffPump" class="form-control">
			<label for="mode">Mode</label><input type="text" class="form-control" id="mode" name="mode"><br>
			<input type="submit" value="Apply" style="margin-top:20px;">
		</form>
	</div>
	
	
	<div class="wrapper">
	<h5>Display Mode from "setup" table in database</h5>
	<span id="content"></span><br><br><br><br>
	<h5>Display temp from "tempAndHumid" table in database</h5>
	<span id="contentT1"></span><br>
	<span id="contentT2"></span><br>
	<span id="contentT3"></span><br>
	<span id="contentT4"></span><br>
	<span id="contentT5"></span><br>
	</div>
	<script>
		$(document).ready(
			function(){
				// add data
				$(document).on("submit", "form", 
				function(){
						$.post("addData.php", $("#form").serialize(),
						function(){
							alert("Data is send.")
						});
						return false;
					}
				);
				// get data
				getData();
				getDataT();
			}
		);
		
		setInterval(getData, 1000);
		setInterval(getDataT, 1000);
		// function
		function getData(){
			$.post("getData.php", function(dataS){
				var dat = dataS[0].mode;
				document.getElementById("content").innerHTML = dat;
			});
		}
		
		function getDataT(){
			$.post("getDataT.php", function(dataT){
				var datT1 = dataT[0].temperature;
				var datT2 = dataT[1].temperature; 
				var datT3 = dataT[2].temperature;
				var datT4 = dataT[3].temperature;
				var datT5 = dataT[4].temperature;
				
				document.getElementById("contentT1").innerHTML = datT1;
				document.getElementById("contentT2").innerHTML = datT2;
				document.getElementById("contentT3").innerHTML = datT3;
				document.getElementById("contentT4").innerHTML = datT4;
				document.getElementById("contentT5").innerHTML = datT5;
				
			});
		}
	</script>
	
  </body>
</html>
